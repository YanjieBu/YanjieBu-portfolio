document.addEventListener("DOMContentLoaded", function() {
    // 获取所有的锚链接
    const links = document.querySelectorAll(".sidebar ul li a");
    const sections = document.querySelectorAll(".content-section");

    function activateLink() {
        let index = sections.length;

        while (--index && window.scrollY + 50 < sections[index].offsetTop) {}
        
        // 移除所有链接的 active 类
        links.forEach(link => link.classList.remove("active"));
        // 为当前部分的链接添加 active 类
        links[index].classList.add("active");
    }

    // 监听滚动事件
    window.addEventListener("scroll", activateLink);
});
